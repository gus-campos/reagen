<form [formGroup]="boxForm" (ngSubmit)="onSubmit()" class="form">
  <!-- Reagente -->
  <mat-form-field>
    <mat-label>Reagente</mat-label>
    <mat-select formControlName="reagentId">
      @for (r of reagents | async; track r.id) {
      <mat-option [value]="r.id">{{ r.name }}</mat-option>
      }
    </mat-select>
    <mat-error>Campo obrigatório</mat-error>
  </mat-form-field>

  <!-- Tamanho -->
  <mat-form-field>
    <mat-label>Tamanho</mat-label>
    <mat-select formControlName="size">
      @for (s of sizes$ | async; track showSize(s)) {
      <mat-option [value]="s">{{ showSize(s) }}</mat-option>
      }
    </mat-select>
  </mat-form-field>

  <!-- Datas -->
  <mat-form-field>
    <mat-label>Data de Entrada</mat-label>
    <input matInput [matDatepicker]="inDatePicker" formControlName="inDate" />
    <mat-datepicker-toggle matIconSuffix [for]="inDatePicker"></mat-datepicker-toggle>
    <mat-datepicker #inDatePicker></mat-datepicker>
    <mat-error>Campo obrigatório</mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Data de Validade</mat-label>
    <input matInput [matDatepicker]="expireDatePicker" formControlName="expireDate" />
    <mat-datepicker-toggle matIconSuffix [for]="expireDatePicker"></mat-datepicker-toggle>
    <mat-datepicker #expireDatePicker></mat-datepicker>
    <mat-error>Campo obrigatório</mat-error>
  </mat-form-field>

  <!-- Pureza -->
  <mat-form-field>
    <mat-label>Pureza (%)</mat-label>
    <input matInput type="number" formControlName="purity" />
    <mat-error>{{ getPurityErrorMessage() }}</mat-error>
  </mat-form-field>

  <!-- Marca -->
  <mat-form-field>
    <mat-label>Marca</mat-label>
    <mat-select formControlName="brandId">
      @for (b of brands; track b.id) {
      <mat-option [value]="b.id">{{ b.name }}</mat-option>
      }
    </mat-select>
    <mat-error>Campo obrigatório</mat-error>
  </mat-form-field>

  <!-- Fornecedor -->
  <mat-form-field>
    <mat-label>Fornecedor</mat-label>
    <mat-select formControlName="supplierId">
      @for (s of suppliers; track s.id) {
      <mat-option [value]="s.id">{{ s.name }}</mat-option>
      }
    </mat-select>
    <mat-error>Campo obrigatório</mat-error>
  </mat-form-field>

  <button mat-raised-button color="primary" type="submit">Salvar</button>
</form>
